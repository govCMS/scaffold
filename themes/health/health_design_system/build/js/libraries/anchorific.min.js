"function"!=typeof Object.create&&(Object.create=function(t){function i(){}return i.prototype=t,new i}),function(t,i,n,a){"use strict";var e={init:function(i,n){this.elem=n,this.$elem=t(n),this.opt=t.extend({},this.opt,i),this.headers=this.$elem.find(this.opt.headers),this.previous=0,0!==this.headers.length&&(this.first=parseInt(this.headers.prop("nodeName").substring(1),null)),this.build()},opt:{navigation:".anchorific",headers:"h1, h2, h3, h4, h5, h6",speed:200,anchorClass:"anchor",anchorText:"#",top:".top",spy:!0,position:"append",spyOffset:!0},build:function(){var i,n=this,a=function(){};n.opt.navigation&&(t(n.opt.navigation).append("<ul />"),n.previous=t(n.opt.navigation).find("ul").last(),a=function(t){return n.navigations(t)});for(var e=0;e<n.headers.length;e++)a(i=n.headers.eq(e)),n.anchor(i);n.opt.spy&&n.spy(),n.opt.top&&n.back()},navigations:function(i){var n,a,e,s=this.name(i);void 0!==i.attr("id")&&(s=i.attr("id")),n=t("<a />").attr("href","#"+s).text(i.text()),a=t("<li />").append(n),e=parseInt(i.prop("nodeName").substring(1),null),a.attr("data-tag",e),this.subheadings(e,a),this.first=e},subheadings:function(i,n){t(this.opt.navigation).find("ul");var a=t(this.opt.navigation).find("li");i===this.first?this.previous.append(n):i>this.first?(a.last().append("<ul />"),t(this.opt.navigation).find("ul").last().append(n),this.previous=n.parent()):(t("li[data-tag="+i+"]").last().parent().append(n),this.previous=n.parent())},name:function(t){return t.text().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-").toLowerCase()},anchor:function(i){var n,a,e=this.name(i),s=this.opt.anchorText,o=this.opt.anchorClass;void 0===i.attr("id")&&i.attr("id",e),a=i.attr("id"),!1!==this.opt.anchorText&&(n=t("<a />").attr("href","#"+a).html(s).addClass(o),"append"===this.opt.position?i.append(n):i.prepend(n))},back:function(){var i=this,n=t("body, html");t(i.opt.top).on("click",function(t){t.preventDefault(),n.animate({scrollTop:0},i.opt.speed)})},top:function(i){var n=this.opt.top;!1!==n&&(t(i).scrollTop()>200?t(n).fadeIn():t(n).fadeOut())},spy:function(){var n,a,e,s=this;t(i).scroll(function(o){s.top(this),n=s.headers.map(function(n){if(t(this).offset().top-t(i).scrollTop()<s.opt.spyOffset)return this}),(n=t(n).eq(n.length-1))&&n.length&&(a=t('li:has(a[href="#'+n.attr("id")+'"])'),void 0!==e&&e.removeClass("active"),a.addClass("active"),e=a)})}};t.fn.anchorific=function(i){return this.each(function(){if(!t.data(this,"anchorific")){var n=Object.create(e);n.init(i,this),t.data(this,"anchorific",n)}})}}(jQuery,window,document);